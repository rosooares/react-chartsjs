{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar dataKeys = {\n  'line': 'data',\n  'radar': 'data',\n  'bar': 'data',\n  'horizontalBar': 'data',\n  'bubble': 'data'\n};\n\nvar updatePoints = function updatePoints(nextProps, chart, dataKey) {\n  var name = chart.config.type;\n  var nextProps = nextProps;\n\n  if (name === 'polarArea' || name === 'pie' || name === 'doughnut') {\n    nextProps.data.datasets.forEach(function (segment, segmentIndex) {\n      if (!chart.data.datasets[segmentIndex]) {\n        chart.data.labels.push(nextProps.data.labels[segmentIndex]);\n        chart.data.datasets.forEach(function (dataset) {\n          dataset.data.push(segment);\n        });\n      } else {\n        Object.keys(segment).forEach(function (key) {\n          chart.data.datasets[segmentIndex][key] = segment[key];\n        });\n      }\n    });\n\n    while (nextProps.data.datasets.length < chart.data.datasets.length) {\n      removeData(chart);\n    }\n  } else if (name === \"radar\") {\n    removeData(chart);\n    nextProps.data.datasets.forEach(function (set, setIndex) {\n      set.data.forEach(function (val, pointIndex) {\n        if (typeof chart.data.datasets[setIndex][dataKey][pointIndex] == \"undefined\") {\n          addData(nextProps, chart, setIndex);\n        } else {\n          chart.data.datasets[setIndex][dataKey][pointIndex] = val;\n        }\n      });\n    });\n  } else if (name === \"bubble\") {\n    while (chart.data.datasets.length > nextProps.data.datasets.length) {\n      chart.data.datasets.pop();\n    }\n\n    nextProps.data.datasets.forEach(function (set, setIndex) {\n      if (typeof chart.data.datasets[setIndex] == \"undefined\") {\n        chart.data.datasets.push(nextProps.data.datasets[setIndex]);\n      } else {\n        chart.data.datasets[setIndex][dataKey] = set.data;\n      }\n    });\n  } else if (name === \"scatter\") {\n    if (chart.data.datasets.length > nextProps.data.datasets.length) {\n      chart.data.datasets.pop();\n    }\n\n    nextProps.data.datasets.forEach(function (set, setIndex) {\n      if (typeof chart.data.datasets[setIndex] == \"undefined\") {\n        chart.data.datasets.push(nextProps.data.datasets[setIndex]);\n      } else {\n        chart.data.datasets[setIndex] = nextProps.data.datasets[setIndex];\n      }\n    });\n  } else {\n    while (chart.data.labels.length > nextProps.data.labels.length) {\n      removeData(chart);\n    }\n\n    nextProps.data.datasets.forEach(function (set, setIndex) {\n      set.data.forEach(function (val, pointIndex) {\n        if (typeof chart.data.datasets[setIndex][dataKey][pointIndex] == \"undefined\") {\n          addData(nextProps, chart, setIndex);\n        } else {\n          chart.data.datasets[setIndex][dataKey][pointIndex] = val;\n        }\n      });\n    });\n  }\n};\n\nfunction addData(nextProps, chart, setIndex) {\n  chart.data.labels.push(nextProps.data.labels[setIndex]);\n  chart.data.datasets.forEach(function (dataset) {\n    dataset.data.push(nextProps.data);\n  });\n}\n\nfunction removeData(chart) {\n  chart.data.labels.pop();\n  chart.data.datasets.forEach(function (dataset) {\n    dataset.data.pop();\n  });\n}\n\nvar Chart = function (_React$Component) {\n  _inherits(Chart, _React$Component);\n\n  function Chart(props) {\n    _classCallCheck(this, Chart);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.state = {};\n\n    _this.handleOnClick = function (event) {\n      var _this$props = _this.props,\n          getDatasetAtEvent = _this$props.getDatasetAtEvent,\n          getElementAtEvent = _this$props.getElementAtEvent,\n          getElementsAtEvent = _this$props.getElementsAtEvent;\n      getDatasetAtEvent && getDatasetAtEvent(_this.state.chart.getDatasetAtEvent(event), event);\n      getElementAtEvent && getElementAtEvent(_this.state.chart.getElementAtEvent(event), event);\n      getElementsAtEvent && getElementsAtEvent(_this.state.chart.getElementsAtEvent(event), event);\n    };\n\n    _this.canvassRef = _react2.default.createRef();\n    return _this;\n  }\n\n  Chart.prototype.componentDidMount = function componentDidMount() {\n    this.initializeChart(this.props);\n    this.props.getChart && this.props.getChart(this.state.chart);\n    this.props.getCanvas && this.props.getCanvas(this.canvassRef);\n  };\n\n  Chart.prototype.componentWillUnmount = function componentWillUnmount() {\n    var chart = this.state.chart;\n    chart.destroy();\n  };\n\n  Chart.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    var _props2 = this.props,\n        redraw = _props2.redraw,\n        type = _props2.type,\n        options = _props2.options,\n        height = _props2.height,\n        width = _props2.width,\n        data = _props2.data,\n        plugins = _props2.plugins;\n\n    if (!(0, _isEqual2.default)(data.datasets, nextProps.data.datasets) || nextProps.redraw == true || type != nextProps.type || height != nextProps.height || width != nextProps.width || !(0, _isEqual2.default)(options, nextProps.options) || !(0, _isEqual2.default)(plugins, nextProps.plugins)) {\n      var chart = this.state.chart;\n\n      if (nextProps.redraw) {\n        chart.destroy();\n        this.initializeChart(nextProps);\n      } else {\n        var dataKey = nextProps.dataKey || dataKeys[chart.config.type];\n        updatePoints(nextProps, chart, dataKey);\n\n        if (chart.scales) {\n          chart.config.data.labels = nextProps.data.labels;\n        }\n\n        chart.update();\n        return false;\n      }\n    }\n  };\n\n  Chart.prototype.render = function render() {\n    var excludedProps = ['data', 'options', 'redraw'];\n    var _props = {};\n\n    for (var name in this.props) {\n      if (this.props.hasOwnProperty(name)) {\n        if (excludedProps.indexOf(name) === -1) {\n          _props[name] = this.props[name];\n        }\n      }\n    }\n\n    var canvasStyle = {\n      width: this.props.width ? this.props.width : \"auto\",\n      height: this.props.height ? this.props.height : \"auto\"\n    };\n    return _react2.default.createElement('div', null, _react2.default.createElement('canvas', {\n      ref: this.props.ref ? this.props.ref : this.canvassRef,\n      style: canvasStyle,\n      onClick: this.handleOnClick\n    }));\n  };\n\n  Chart.prototype.initializeChart = function initializeChart(nextProps) {\n    var Chart = require('chart.js');\n\n    var el = _reactDom2.default.findDOMNode(this.canvassRef.current);\n\n    var ctx = el.getContext(\"2d\");\n    var chart = new Chart(ctx, {\n      type: nextProps.type,\n      data: nextProps.data,\n      options: nextProps.options || {},\n      plugins: nextProps.plugins || {}\n    });\n    this.state.chart = chart;\n  };\n\n  return Chart;\n}(_react2.default.Component);\n\nexports.default = Chart;","map":{"version":3,"sources":["/home/roberta/√Årea de trabalho/estudos_react/react-chartsjs/react-chartsjs/node_modules/react-chartjsx/lib/chart.js"],"names":["exports","__esModule","_react","require","_react2","_interopRequireDefault","_reactDom","_reactDom2","_isEqual","_isEqual2","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","dataKeys","updatePoints","nextProps","chart","dataKey","name","config","type","data","datasets","forEach","segment","segmentIndex","labels","push","dataset","keys","key","length","removeData","set","setIndex","val","pointIndex","addData","pop","Chart","_React$Component","props","_this","state","handleOnClick","event","_this$props","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","canvassRef","createRef","componentDidMount","initializeChart","getChart","getCanvas","componentWillUnmount","destroy","shouldComponentUpdate","nextState","_props2","redraw","options","height","width","plugins","scales","update","render","excludedProps","_props","hasOwnProperty","indexOf","canvasStyle","createElement","ref","style","onClick","el","findDOMNode","current","ctx","getContext","Component"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar dataKeys = {\n  'line': 'data',\n  'radar': 'data',\n  'bar': 'data',\n  'horizontalBar': 'data',\n  'bubble': 'data'\n};\n\nvar updatePoints = function updatePoints(nextProps, chart, dataKey) {\n  var name = chart.config.type;\n  var nextProps = nextProps;\n\n  if (name === 'polarArea' || name === 'pie' || name === 'doughnut') {\n    nextProps.data.datasets.forEach(function (segment, segmentIndex) {\n      if (!chart.data.datasets[segmentIndex]) {\n        chart.data.labels.push(nextProps.data.labels[segmentIndex]);\n        chart.data.datasets.forEach(function (dataset) {\n          dataset.data.push(segment);\n        });\n      } else {\n        Object.keys(segment).forEach(function (key) {\n          chart.data.datasets[segmentIndex][key] = segment[key];\n        });\n      }\n    });\n\n    while (nextProps.data.datasets.length < chart.data.datasets.length) {\n      removeData(chart);\n    }\n  } else if (name === \"radar\") {\n    removeData(chart);\n    nextProps.data.datasets.forEach(function (set, setIndex) {\n      set.data.forEach(function (val, pointIndex) {\n        if (typeof chart.data.datasets[setIndex][dataKey][pointIndex] == \"undefined\") {\n          addData(nextProps, chart, setIndex);\n        } else {\n          chart.data.datasets[setIndex][dataKey][pointIndex] = val;\n        }\n      });\n    });\n  } else if (name === \"bubble\") {\n    while (chart.data.datasets.length > nextProps.data.datasets.length) {\n      chart.data.datasets.pop();\n    }\n    nextProps.data.datasets.forEach(function (set, setIndex) {\n      if (typeof chart.data.datasets[setIndex] == \"undefined\") {\n        chart.data.datasets.push(nextProps.data.datasets[setIndex]);\n      } else {\n        chart.data.datasets[setIndex][dataKey] = set.data;\n      }\n    });\n  } else if (name === \"scatter\") {\n    if (chart.data.datasets.length > nextProps.data.datasets.length) {\n      chart.data.datasets.pop();\n    }\n    nextProps.data.datasets.forEach(function (set, setIndex) {\n      if (typeof chart.data.datasets[setIndex] == \"undefined\") {\n        chart.data.datasets.push(nextProps.data.datasets[setIndex]);\n      } else {\n        chart.data.datasets[setIndex] = nextProps.data.datasets[setIndex];\n      }\n    });\n  } else {\n    while (chart.data.labels.length > nextProps.data.labels.length) {\n      removeData(chart);\n    }\n    nextProps.data.datasets.forEach(function (set, setIndex) {\n      set.data.forEach(function (val, pointIndex) {\n        if (typeof chart.data.datasets[setIndex][dataKey][pointIndex] == \"undefined\") {\n          addData(nextProps, chart, setIndex);\n        } else {\n          chart.data.datasets[setIndex][dataKey][pointIndex] = val;\n        }\n      });\n    });\n  }\n};\n\nfunction addData(nextProps, chart, setIndex) {\n  chart.data.labels.push(nextProps.data.labels[setIndex]);\n  chart.data.datasets.forEach(function (dataset) {\n    dataset.data.push(nextProps.data);\n  });\n}\n\nfunction removeData(chart) {\n  chart.data.labels.pop();\n  chart.data.datasets.forEach(function (dataset) {\n    dataset.data.pop();\n  });\n}\n\nvar Chart = function (_React$Component) {\n  _inherits(Chart, _React$Component);\n\n  function Chart(props) {\n    _classCallCheck(this, Chart);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.state = {};\n\n    _this.handleOnClick = function (event) {\n      var _this$props = _this.props,\n          getDatasetAtEvent = _this$props.getDatasetAtEvent,\n          getElementAtEvent = _this$props.getElementAtEvent,\n          getElementsAtEvent = _this$props.getElementsAtEvent;\n\n      getDatasetAtEvent && getDatasetAtEvent(_this.state.chart.getDatasetAtEvent(event), event);\n      getElementAtEvent && getElementAtEvent(_this.state.chart.getElementAtEvent(event), event);\n      getElementsAtEvent && getElementsAtEvent(_this.state.chart.getElementsAtEvent(event), event);\n    };\n\n    _this.canvassRef = _react2.default.createRef();\n    return _this;\n  }\n\n  Chart.prototype.componentDidMount = function componentDidMount() {\n    this.initializeChart(this.props);\n    this.props.getChart && this.props.getChart(this.state.chart);\n    this.props.getCanvas && this.props.getCanvas(this.canvassRef);\n  };\n\n  Chart.prototype.componentWillUnmount = function componentWillUnmount() {\n    var chart = this.state.chart;\n    chart.destroy();\n  };\n\n  Chart.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    var _props2 = this.props,\n        redraw = _props2.redraw,\n        type = _props2.type,\n        options = _props2.options,\n        height = _props2.height,\n        width = _props2.width,\n        data = _props2.data,\n        plugins = _props2.plugins;\n\n    if (!(0, _isEqual2.default)(data.datasets, nextProps.data.datasets) || nextProps.redraw == true || type != nextProps.type || height != nextProps.height || width != nextProps.width || !(0, _isEqual2.default)(options, nextProps.options) || !(0, _isEqual2.default)(plugins, nextProps.plugins)) {\n      var chart = this.state.chart;\n      if (nextProps.redraw) {\n        chart.destroy();\n        this.initializeChart(nextProps);\n      } else {\n        var dataKey = nextProps.dataKey || dataKeys[chart.config.type];\n        updatePoints(nextProps, chart, dataKey);\n        if (chart.scales) {\n          chart.config.data.labels = nextProps.data.labels;\n        }\n        chart.update();\n        return false;\n      }\n    }\n  };\n\n  Chart.prototype.render = function render() {\n    var excludedProps = ['data', 'options', 'redraw'];\n    var _props = {};\n    for (var name in this.props) {\n      if (this.props.hasOwnProperty(name)) {\n        if (excludedProps.indexOf(name) === -1) {\n          _props[name] = this.props[name];\n        }\n      }\n    }\n    var canvasStyle = {\n      width: this.props.width ? this.props.width : \"auto\",\n      height: this.props.height ? this.props.height : \"auto\"\n    };\n    return _react2.default.createElement(\n      'div',\n      null,\n      _react2.default.createElement('canvas', { ref: this.props.ref ? this.props.ref : this.canvassRef, style: canvasStyle, onClick: this.handleOnClick })\n    );\n  };\n\n  Chart.prototype.initializeChart = function initializeChart(nextProps) {\n    var Chart = require('chart.js');\n    var el = _reactDom2.default.findDOMNode(this.canvassRef.current);\n    var ctx = el.getContext(\"2d\");\n    var chart = new Chart(ctx, { type: nextProps.type, data: nextProps.data, options: nextProps.options || {}, plugins: nextProps.plugins || {} });\n    this.state.chart = chart;\n  };\n\n  return Chart;\n}(_react2.default.Component);\n\nexports.default = Chart;"]},"metadata":{},"sourceType":"script"}